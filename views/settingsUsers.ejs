<head>
  <title>Settings: Manage Users</title>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.10/css/all.css" integrity="sha384-+d0P83n9kaQMCwj8F4RJB66tzIwOKmrdb46+porD/OvrJ+37WqIM7UoBtwHO6Nlg" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="/style.css">
  <link rel="stylesheet" type="text/css" href="/css/usersSettings.css">
  <link rel="stylesheet" type="text/css" href="/css/menu.css">

  <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Manage user permissions">

  <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css" integrity="sha384-" crossorigin="anonymous">



</head>

  <%- include("parts/menu") %>

<body>

<div class="usersTable">
  <div class="usersHeader">
    <div>ID </div>
    <div>Username </div>
    <div>Discord ID </div>
    <div>Permission </div>
    <div> </div>
  </div>
  <% users.forEach( (user, index) =>{ %>
    <div class="usersContainer">
      <div class="usersId"><%- user.id%></div>
      <div class="usersUsername"><%- user.username%></div>
      <div class="usersDiscordId"><%- user.discordid%></div>

      <% if(user.permission == 0){ %>
          <div class="user">User</div>
      <% }if(user.permission == 1){ %>
          <div class="moderator">Moderator</div>
      <% }if(user.permission == 2){ %>
          <div class="admin">Admin</div>
      <% } %>

      <a class="usersManage" href="/settings/manage/user?id=<%- user.id %>" >Manage</a>



    </div>
  <% }) %>

</div>


</body>



<script>
//swipe code
document.addEventListener('touchstart', handleTouchStart, false);
document.addEventListener('touchmove', handleTouchMove, false);

var xDown = null;
var yDown = null;

function handleTouchStart(evt) {
xDown = evt.touches[0].clientX;
yDown = evt.touches[0].clientY;
};

function handleTouchMove(evt) {
if ( ! xDown || ! yDown ) {
    return;
}

var xUp = evt.touches[0].clientX;
var yUp = evt.touches[0].clientY;

var xDiff = xDown - xUp;
var yDiff = yDown - yUp;

if ( Math.abs( xDiff ) > Math.abs( yDiff ) ) {/*most significant*/
    if ( xDiff > 0 ) {
        /* left swipe */

    } else {
        /* right swipe */
        //window.location.href = '/permissions';
    }
} else {
    if ( yDiff > 0 ) {
        /* up swipe */
    } else {
        /* down swipe */
    }
}
/* reset values */
xDown = null;
yDown = null;
};

</script>


</body>
</html>
